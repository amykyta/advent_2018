class Day2
  BOX_IDS = [
    'ybruvapdgixszyckwtfqjonsie',
    'mbruvapxghslyyckwtfqjonsie',
    'mbruvapdghslzyckwtkujonsie',
    'rwruvapdghxlzyckwtfqjcnsie',
    'obruvapdgtxlzyckwtfqionsie',
    'lbruvapdghxqzyckwtfqjfnsie',
    'mbrunapdghxlzyccatfqjonsie',
    'mbruvapdghxlzyokltfqjdnsie',
    'ybruvapdghxlzmckwtfqjmnsie',
    'mbruwaadghxdzyckwtfqjonsie',
    'muruvapdghxlzyckvtfqjonsim',
    'mbruvapdghxlkyckwtxqjonjie',
    'mbruvaqdghxlzyckwtfqjrnnie',
    'mwruvapdghdlzyckttfqjonsie',
    'mbruvapdgtelzyckwxfqjonsie',
    'mbruvapdohxlzvckwtfqjonhie',
    'mbrugapdgbxlzyckwtfqjynsie',
    'mbruvapdghxlzyckwtlqjonjiu',
    'mbruvapwghxlzyckwafqjonbie',
    'wbruvapdghxlhyckwtfqjonsii',
    'mbruvapdghxlzyckwtcqnonsiq',
    'mbyuvapighxlzybkwtfqjonsie',
    'mbrrvapdghxvzyckwtfqjonsio',
    'mhruvapdghrlzyckwtfzjonsie',
    'mtruvapvghxlzyckwtfnjonsie',
    'mmrlhapdghxlzyckwtfqjonsie',
    'mbruvapdgpxlzyjkwtfqjovsie',
    'mbrucapdghxlzymkwtzqjonsie',
    'mbeuvafdghxlzyckwtfqjonwie',
    'mbruvapcghxlayckwtfqjonsii',
    'mbruvabdghxlzyckwtfqyansie',
    'mbruvjpdghxlzyckwtfqgfnsie',
    'lbruvapdghxlzyckwtfqjonriv',
    'mbrupapdghxlzycjwtfqronsie',
    'mbpuvapdthxlzymkwtfqjonsie',
    'mbiuvapdgixlzyckwxfqjonsie',
    'mbruvapdghxyzyckwtfcjonsbe',
    'mbrurapkghxlzyckwtfqjonzie',
    'mbrufapdrhxlzyciwtfqjonsie',
    'mbruvapdghxlzbckwtfqjoisae',
    'ubruhapdghxlzuckwtfqjonsie',
    'mbruvapdjhulzyckwtfqjonshe',
    'mbruwapdgyxlzyckntfqjonsie',
    'mwruvapdghplzyckwtfqjonsme',
    'mbruvapjghtlzyckwtfqgonsie',
    'pbruvapdghhlzyckwtfrjonsie',
    'mbruvgpdihxqzyckwtfqjonsie',
    'mbruvahdohxlzyckwtfijonsie',
    'ibuuvapdghxlzyckwtfqjofsie',
    'mbruvandghxlzyckwtfqjrnxie',
    'mbrjvlpdghxlzyckwgfqjonsie',
    'mbruvapogfxlzyckotfqjonsie',
    'mbruvrpdghxlzyckutfejonsie',
    'mbruvbpdghxlzyhkwtfqjonsip',
    'mbruvapdghxlzyckmnfqjensie',
    'mbruvapdghvlzyckwtfqjowsix',
    'mbruvakdgholzwckwtfqjonsie',
    'mbruvapdghxlzackwtfqconsae',
    'mbruvapdghxlzyqvwtfqjlnsie',
    'mprrvapdgfxlzyckwtfqjonsie',
    'mbrunacdghxlhyckwtfqjonsie',
    'obruvapdgsxlzyckwtfqjonvie',
    'murcvapdghslzyckwtfqjonsie',
    'mbruvapdghxlzyzkwmftjonsie',
    'mbrwvapdgtvlzyckwtfqjonsie',
    'mbxuvapdghxlzqcnwtfqjonsie',
    'mbruvaddghxboyckwtfqjonsie',
    'mhruvwndghxlzyckwtfqjonsie',
    'mbrdvapdghxlzyckwmpqjonsie',
    'mbruvapdgyxlzyckizfqjonsie',
    'mbruvapdghxlzlckwtfqeowsie',
    'mbruvbpdgrxlzyckwtfqjonsxe',
    'mbruqapoghxlzyckwtvqjonsie',
    'mbouhapdghmlzyckwtfqjonsie',
    'mbruvapjghxidyckwtfqjonsie',
    'mbsuvapkghxlkyckwtfqjonsie',
    'mbruvlpdghxlzycrwtfqjonsis',
    'mcrueapdghxlzyckwtfqjynsie',
    'muruvapngbxlzyckwtfqjonsie',
    'mbruvapdghxlzycawtfyjojsie',
    'mbruvbpdghxczyjkwtfqjonsie',
    'ybduvapdghxnzyckwtfqjonsie',
    'mbruvbpdghxlzyckwtfbjousie',
    'mbouvapdghxlzycbwtfqponsie',
    'mbruvaedghplzycgwtfqjonsie',
    'mbrhvapdghxlzyckytfqjgnsie',
    'mbruvapdqbxleyckwtfqjonsie',
    'mbruvapddhhldyckwtfqjonsie',
    'mbruvapdghxlwrckwtfqjondie',
    'mbruvapdmhxlzyckwtfqkonsve',
    'xbbuvapdghxlzyckwtfkjonsie',
    'mbruvapdghxlzyckwcfqjunkie',
    'mbruvapdghxlzyckwtfqxonfib',
    'mbrtvapkghxlzyckwtfqeonsie',
    'mbruvazdghxldymkwtfqjonsie',
    'kbruvapddhxlzfckwtfqjonsie',
    'mbouvapdghxlpyckwtfqjoosie',
    'mbauvapdghxlzyckwtfqjszsie',
    'mbruvapdghtlzyckntfqtonsie',
    'mbruvipdggxlzbckwtfqjonsie',
    'mbruqapdghrlzyckwtfqjznsie',
    'myruvacdghxlzyckwifqjonsie',
    'mbruvapdghxlzuckwtfkjocsie',
    'mwjuvapdghxlzyckwtfqjonsxe',
    'mbruvapxghxlzickwtfqjobsie',
    'mbrupapdghxtlyckwtfqjonsie',
    'meruvapdjjxlzyckwtfqjonsie',
    'mbruvkodghxlzyckwofqjonsie',
    'mbruvapdgexlzyckwtgkjonsie',
    'mbruvapwghxlzyckwtcqjonsiw',
    'mbruvapdghxlzykkwtfqtoxsie',
    'mbruvapdahxlzycgwtfwjonsie',
    'mbruvapdgwxlhyckhtfqjonsie',
    'mbruvapbghxlzycbhmfqjonsie',
    'mbruvapdghxvzyzkwtfqjonsin',
    'mbrcvapdqhxlzyckwyfqjonsie',
    'zbruvaxdghxlzyckwgfqjonsie',
    'mtruvapdghxlilckwtfqjonsie',
    'bbruvapdghxlzyckwtfmjonsxe',
    'mbruvajdghxlzyckwtfqfwnsie',
    'mbruvapdgkxlzyckwtfqionpie',
    'rbruvapdghxlryckwdfqjonsie',
    'mbruvandghxlzyckwmfvjonsie',
    'mbruvahdghxlzeckwtfqjonsme',
    'mbruvnpcghxlzyckwtfqjobsie',
    'mbruvapdghqlzyckwtfbjonsiy',
    'mbruvavdghxlzyckwufqjodsie',
    'mbruvapdghxlzyckwtfzmovsie',
    'mbruvlpdghxuzyckwtfqjoesie',
    'mbruvopdghxlzycwwtfqjansie',
    'obruvapdghglzybkwtfqjonsie',
    'mbpuvlpdghxlcyckwtfqjonsie',
    'mbruvaidghxlzyckwtfmjonoie',
    'mbruvapdihxzzyckwtfqjonsiy',
    'mbquvapdghxlzyckwtfqconsme',
    'mbruvapdghslzyckqtfqjojsie',
    'mbrzdapdghxmzyckwtfqjonsie',
    'mwruvapdghxozyckwtfqjonsxe',
    'muruvapdgfxlzyckwtfqjojsie',
    'wtruvapdghxlzyckvtfqjonsie',
    'mbruvapdghxlzyckysfqjxnsie',
    'mbruvrpdghxczyckktfqjonsie',
    'mbquvapdghxlryckwtfqjonsne',
    'mbruvapdghflzycvwtfqjpnsie',
    'mbruvapughclzyckwtfqjonsin',
    'mbrhvapdghxlpyckwtfqjonsre',
    'mbruvapdgtxlzyckwtfqjoosit',
    'mbrupapnghxhzyckwtfqjonsie',
    'mmvuvapdvhxlzyckwtfqjonsie',
    'mbruvaptghxlzyckwtfqjotsse',
    'mgruvapvghxlzyckwtfqjonsix',
    'mbrupapdghxszyckwtfqjunsie',
    'mbruvkpdghelzyckwtfqjpnsie',
    'mbruvrrdghjlzyckwtfqjonsie',
    'mbruvapdghnlzyckwtfkjonsze',
    'mbruvwpdghxlzyckwtfqhoysie',
    'mbrsvapdfhxlzyckwtfqjobsie',
    'mbruvapdgexezymkwtfqjonsie',
    'ybruvapdghxlzyckwtfqxonsiw',
    'mrruvapdghxdzyckwtfqjossie',
    'mbruvapdghtlzyckwtfqconsiu',
    'mbrpvapdghxlzlckwpfqjonsie',
    'mbruvjpdghslzyckwtfqjjnsie',
    'mhruvapoghxlzyckwtfvjonsie',
    'mbrubqpdghvlzyckwtfqjonsie',
    'mbruvapdghxlzackwtfqconsiw',
    'mbruvapdgnxlzkckwtfqjdnsie',
    'mbrudapgghelzyckwtfqjonsie',
    'mbruvapdghxlzlakwbfqjonsie',
    'mbpuvapdghxlzyckwtuqjonjie',
    'abruvapdghxlzykkwtfqjonzie',
    'mbrupupdghxlsyckwtfqjonsie',
    'mbrsvupdghxlzyckwtfqjonkie',
    'mxruvgpdghxllyckwtfqjonsie',
    'mbrnvapdghxlzycbwtfqfonsie',
    'mbrbxapdghxlzyckttfqjonsie',
    'mbnuvapdghxlzyxkwtmqjonsie',
    'mbrfvapdghjlzickwtfqjonsie',
    'mbhuvupdghxlzyxkwtfqjonsie',
    'mbrcvapdghxluyckwtfqjznsie',
    'mbruvapdghxlzyckwofqjoxsiz',
    'mbrevapdghxloyckwtfqjonnie',
    'mbruvipdghnlzyckwtfqjopsie',
    'mbxxvaptghxlzyckwtfqjonsie',
    'mbruvcpdghxlztckwtjqjonsie',
    'mqruvlpdghxlzyckotfqjonsie',
    'mbruvapdgqxlzyckwtfqjpvsie',
    'mbruvapdgvxlzyjkwtfqjbnsie',
    'mbruvapdghxlgyckwtfqcocsie',
    'mbruvapdghxkwyckwtfqjoqsie',
    'mbrgvavdghxlzyckwxfqjonsie',
    'qbruqapdgvxlzyckwtfqjonsie',
    'mbauvapdghxlzgckwtfqjunsie',
    'mbruvapdgdxluyckwtfqjoosie',
    'mbruvapdghxlzykkwtfqwobsie',
    'mbruvapdghxlzhcnwtfqjonqie',
    'mbruvapdghxlzycbhmfqjonsie',
    'mbruvapdghxluyczwtfqjontie',
    'mbruvapnghxlzyckwnfqjonbie',
    'moruvapdghxlzcckwtfqponsie',
    'mbruvapfgxxlzyckwtfqjunsie',
    'mbruvapdghxlryckvtfejonsie',
    'mbrzvapdghxlzvcbwtfqjonsie',
    'mbruvapdgqxlzyckwcfqjonsce',
    'abruvupdrhxlzyckwtfqjonsie',
    'mbrubaptghxlzyckwtfqjondie',
    'mgruvapdgpxlzyckwtfijonsie',
    'mbruvapdghxczlckwtfujonsie',
    'mbruvapdgmmlzyckwtfqjonsir',
    'mbruvapdhhxltyckwtfdjonsie',
    'mbruvapdghxlzyckwtfdjjnste',
    'mbrdvzpdghxlcyckwtfqjonsie',
    'mbruvapdghxlzyckwtnqbonsim',
    'mbrovapdghxlzyckwtfpjousie',
    'mymuvapdghxlzyjkwtfqjonsie',
    'mbpuvapdghxlzyckwtfljcnsie',
    'mbrxvapdghxlzyclwtfqjonpie',
    'mbrueapdghxlzyckwtfqjopsia',
    'mbruvapdghxlzycdwtfqjbfsie',
    'tbruvavdghxlzyckwtmqjonsie',
    'mbduvapdghxlzyckwrfqjrnsie',
    'mkrsvapughxlzyckwtfqjonsie',
    'mbruvapdghylzyckwtfqtolsie',
    'mgruvapdglxldyckwtfqjonsie',
    'mbrunapdghclzyckwtfqjonsiy',
    'mbruvapdgrxlxyckwtfgjonsie',
    'mbruvapdghxpzbckftfqjonsie',
    'mbruvcpdghxyzyckotfqjonsie',
    'mbruvapdghxlsyckwtfqcqnsie',
    'mbruvapdghxlzzckwtfqjonskf',
    'mbruvppdghxlzfckwtfqjgnsie',
    'mbhuvapdghxlzytkwtfqjonoie',
    'mbruvapdghxlzvrkwtfqjjnsie',
    'mbmuvapdghxuzyckwtfqjonsze',
    'mbruvapdghnlzycnwtfqjonsil',
    'mbruvapdgholzyckitfqjonsia',
    'mbruxapdghxlmyckwtfqbonsie',
    'mbauvapdgholzyckwtfqjolsie',
    'mbruvapdghxlzyckwtfqjotslq',
    'dbrutapdghxlzyckwtfqjonsiv',
    'mbruvapdzhxlyyckwtfbjonsie',
    'mmruaapsghxlzyckwtfqjonsie',
    'mbruvaldgqxqzyckwtfqjonsie',
    'mbruvaodghxdzyjkwtfqjonsie',
    'mbrcmatdghxlzyckwtfqjonsie',
    'mbrqvapdgtxlzycewtfqjonsie',
    'mjruvapdghzlzyckwtfqjonrie',
    'mbruvapdghxopcckwtfqjonsie',
    'mbruvapdghxszycwwtfqjoqsie',
    'mbruvapdgoxezyckwtjqjonsie'
  ]

  def self.checksum(ids)
    twos = 0
    threes = 0

    ids.each do |x|
      character_count = Hash.new(0)
      x.split('').each { |c| character_count[c] += 1 }

      counts = character_count.values
      twos += 1 if counts.include?(2)
      threes += 1 if counts.include?(3)
    end

    twos * threes
  end

  def self.matching_boxes(ids)
    ids.product(ids).each do |x,y|
      zipped = x.split('').zip(y.split(''))
      result = (zipped.map { |a, b| a if a == b }).compact
      if (x.split('').count - result.count)  == 1
        return result.join
      end
    end
  end
end

if __FILE__ == $0
  puts "Part 1 - results are: #{Day2.checksum(Day2::BOX_IDS)}"
  puts "Part 2 - results are: #{Day2.matching_boxes(Day2::BOX_IDS)}"
end
